<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>9.25事件详解   拖缀</title>
</head>
<style>
	.box{
		width: 300px;
		height: 500px;
		background: red;
		position: absolute;
		left: 0;
		top: 0;
	}
	.son{
		width: 200px;
		height: 350px;
		background:pink;
		position: absolute;
		left: 0;
		top: 0;
	}
</style>
<body>
    <div class="box"></div>
    <div class="son"></div>
	<script>
		//box.addEventListener(event事件类型, listener函数, useCapture布尔值)//绑定事件  事件监听
		// box.addEventListener('onclick', function(){
		// 	this.style.background='green'
		// }, false)
		// box.addEventListener('onclick', function(){
		// 	this.style.borderRadius='50%';
		// }, false)
		// box.addEventListener('onclick', function(){
		// 	this.style.transform=`scale(2, 2)`;
		// }, false)
		
		// //removeEventListener(type, listener, useCapture)//移除事件

  //       box.addEventListener('mousemove', function(e){
  //       	this.innerHTML=	`
  //       	clientX=${e.clientX} ;
		// 	`  
			 
		// }, false)
		//clientX  clientY  //事件相对于浏览器的距离
		//pageX pageY   //相对于页面的距离
		//offsetX  offsetY  //相对于事件源(屏幕)的距离
		//screenX  screenY  //相对于屏幕的距离
		//
		// window.addEventListener('load',function(){
		// let box=document.querySelector('.box');
		//   box.addEventListener('mousedown',function(e){
		//   	let x=e.offsetX , y=e.offsetY;
		//   	document.addEventListener('mousemove',fn);
		//   	box.addEventListener('mouseup',function(){
  //             document.removeEventListener('mousemove',fn);
		//   	});
  //             function fn(e){
  //             	let  le=e.clientX-x,to=e.clientY-y;
  //             	box.style.left=le+'px';
  //             	box.style.top=to+'px';

  //             }
		//   	})
		//   })

		//属性
		class drag{
			constructor(obj){
				this.obj=obj;
			}
			move(){
			let that =this;
			that.obj.addEventListener('mousedown',function(e){
		  	let x=e.offsetX , y=e.offsetY;
		  	document.addEventListener('mousemove',fn);
		  	that.obj.addEventListener('mouseup',function(){
              document.removeEventListener('mousemove',fn);
		  	});
              function fn(e){
              	let  le=e.clientX-x,to=e.clientY-y;
              	that.obj.style.left=le+'px';
              	that.obj.style.top=to+'px';

			}
		  })

		}
	}

		let box=document.querySelector('.box');
		let son=document.querySelector('.son');
		let dl =new drag(box);
		let dll =new drag(son);
		dl.move(); 
		dll.move(); 
	</script>
</body>
</html>